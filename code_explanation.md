# ๐ ะะพะปะฝะพะต ะพะฑัััะฝะตะฝะธะต ะบะพะดะฐ ะฟัะพะตะบัะฐ RoutineApp

## ๐ฏ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

**RoutineApp** โ ััะพ ะฝะฐััะพะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ (Todo Manager), ะฝะฐะฟะธัะฐะฝะฝะพะต ะฝะฐ Python ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ:
- **Tkinter** โ ะณัะฐัะธัะตัะบะธะน ะธะฝัะตััะตะนั
- **SQLite** โ ะปะพะบะฐะปัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **tkcalendar** โ ะฒะธะดะถะตั ะบะฐะปะตะฝะดะฐัั ะดะปั ะฒัะฑะพัะฐ ะดะฐั

ะัะธะปะพะถะตะฝะธะต ะฟะพะทะฒะพะปัะตั ัะพะทะดะฐะฒะฐัั, ัะตะดะฐะบัะธัะพะฒะฐัั, ัะดะฐะปััั ะทะฐะดะฐัะธ, ะฝะฐะทะฝะฐัะฐัั ะธะผ ะบะฐัะตะณะพัะธะธ, ะฟัะธะพัะธัะตัั, ััะพะบะธ ะฒัะฟะพะปะฝะตะฝะธั, ะฐ ัะฐะบะถะต ัะธะปัััะพะฒะฐัั ะธ ะธัะบะฐัั ะทะฐะดะฐัะธ.

---

## ๐๏ธ ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ

ะัะพะตะบั ะฟะพัััะพะตะฝ ะฟะพ ะบะปะฐััะธัะตัะบะพะผั ะฟะฐััะตัะฝั MVC (Model-View-Controller):

```
RoutineApp/
โโโ todo_app/
โ   โโโ core/
โ   โ   โโโ models.py      # ะะพะดะตะปั ะดะฐะฝะฝัั (Task)
โ   โ   โโโ database.py    # ะกะปะพะน ัะฐะฑะพัั ั ะะ (CRUD ะพะฟะตัะฐัะธะธ)
โ   โ   โโโ __init__.py
โ   โโโ main_gui.py        # ะัะฐัะธัะตัะบะธะน ะธะฝัะตััะตะนั (View + Controller)
โ   โโโ todo.db            # ะะฐะทะฐ ะดะฐะฝะฝัั SQLite
โโโ run.sh / run.bat       # ะกะบัะธะฟัั ะทะฐะฟััะบะฐ
โโโ documentation_code.md  # ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
```

---

## ๐ฆ 1. ะะพะดัะปั `core/models.py` โ ะะพะดะตะปั ะดะฐะฝะฝัั

### ะะปะฐัั `Task` (dataclass)

ะญัะพ **ััััะบัััะฐ ะดะฐะฝะฝัั**, ะบะพัะพัะฐั ะฟัะตะดััะฐะฒะปัะตั ะพะดะฝั ะทะฐะดะฐัั ะฒ ะฟัะธะปะพะถะตะฝะธะธ.

```python
@dataclass
class Task:
    id: Optional[int]
    title: str
    description: str = ""
    completed: bool = False
    category: str = "ะะตะท ะบะฐัะตะณะพัะธะธ"
    status: str = "ะฝะต ะฒัะฟะพะปะฝะตะฝะพ"
    priority: str = "ะฝะตั"
    due_date: Optional[str] = None
    created_at: Optional[str] = None
```

#### ะะพะปั ะทะฐะดะฐัะธ:

| ะะพะปะต | ะขะธะฟ | ะะฟะธัะฐะฝะธะต |
|------|-----|----------|
| `id` | `int` ะธะปะธ `None` | ะฃะฝะธะบะฐะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ะธะท ะะ |
| `title` | `str` | ะะฐะทะฒะฐะฝะธะต ะทะฐะดะฐัะธ (ะพะฑัะทะฐัะตะปัะฝะพะต) |
| `description` | `str` | ะะพะดัะพะฑะฝะพะต ะพะฟะธัะฐะฝะธะต |
| `completed` | `bool` | ะคะปะฐะณ ะฒัะฟะพะปะฝะตะฝะธั (True/False) |
| `category` | `str` | ะะฐัะตะณะพัะธั ะทะฐะดะฐัะธ |
| `status` | `str` | ะกัะฐััั: "ะฝะต ะฒัะฟะพะปะฝะตะฝะพ", "ะฒ ะฟัะพัะตััะต", "ะฒัะฟะพะปะฝะตะฝะพ" |
| `priority` | `str` | ะัะธะพัะธัะตั: "ััะพัะฝะพ", "ะฒะฐะถะฝะพ", "ะพะฑััะฝะพ", "ะฝะตั" |
| `due_date` | `str` ะธะปะธ `None` | ะกัะพะบ ะฒัะฟะพะปะฝะตะฝะธั (ัะพัะผะฐั: "YYYY-MM-DD HH:MM:SS") |
| `created_at` | `str` ะธะปะธ `None` | ะะฐัะฐ ัะพะทะดะฐะฝะธั ะทะฐะดะฐัะธ |

#### ะะตัะพะดั ะบะปะฐััะฐ `Task`:

##### 1. `get_priority_color() -> tuple`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะััะธัะปัะตั ัะฒะตั (RGBA) ะดะปั ะฒะธะทัะฐะปัะฝะพะณะพ ะฒัะดะตะปะตะฝะธั ะทะฐะดะฐัะธ ะฒ ะธะฝัะตััะตะนัะต.

**ะะพะณะธะบะฐ:**
- ะัะปะธ ะทะฐะดะฐัะฐ ะฒัะฟะพะปะฝะตะฝะฐ (`status == "ะฒัะฟะพะปะฝะตะฝะพ"`) โ ะฒะพะทะฒัะฐัะฐะตั ัะตััะน ัะฒะตั
- ะะฝะฐัะต ะฒะพะทะฒัะฐัะฐะตั ัะฒะตั ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ะฟัะธะพัะธัะตัะฐ:
  - "ััะพัะฝะพ" โ ะบัะฐัะฝัะน
  - "ะฒะฐะถะฝะพ" โ ะถัะปััะน
  - "ะพะฑััะฝะพ" โ ะทะตะปัะฝัะน
  - "ะฝะตั" โ ัะตััะน

**ะะพะทะฒัะฐัะฐะตั:** `(r, g, b, a)` โ ะบะพััะตะถ float-ะทะฝะฐัะตะฝะธะน ัะฒะตัะฐ

##### 2. `is_overdue() -> bool`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฟัะตะดะตะปัะตั, ะฟัะพััะพัะตะฝะฐ ะปะธ ะทะฐะดะฐัะฐ.

**ะะพะณะธะบะฐ:**
1. ะัะปะธ ะฝะตั ััะพะบะฐ (`due_date is None`) ะธะปะธ ะทะฐะดะฐัะฐ ะฒัะฟะพะปะฝะตะฝะฐ โ `False`
2. ะะฐััะธั `due_date` ะฒ ัะพัะผะฐัะต `"%Y-%m-%d %H:%M"`
3. ะกัะฐะฒะฝะธะฒะฐะตั ั ัะตะบััะธะผ ะฒัะตะผะตะฝะตะผ
4. ะัะปะธ ัะตะบััะตะต ะฒัะตะผั ะฑะพะปััะต ััะพะบะฐ โ `True`
5. ะัะธ ะพัะธะฑะบะต ะฟะฐััะธะฝะณะฐ โ `False`

**ะะฐะถะฝะพ:** ะะตัะพะด ะพะถะธะดะฐะตั ัะพัะผะฐั `"YYYY-MM-DD HH:MM"`, ะฝะพ ะฒ ะฑะฐะทะต ััะฐะฝะธััั `"YYYY-MM-DD HH:MM:SS"`, ััะพ ะผะพะถะตั ะฒัะทะฒะฐัั ะฟัะพะฑะปะตะผั ั ะพะฟัะตะดะตะปะตะฝะธะตะผ ะฟัะพััะพัะบะธ.

---

## ๐พ 2. ะะพะดัะปั `core/database.py` โ ะะฐะฑะพัะฐ ั ะฑะฐะทะพะน ะดะฐะฝะฝัั

### ะะปะฐัั `TodoDatabase`

ะญัะพ **ัะปะพะน ะดะพัััะฟะฐ ะบ ะดะฐะฝะฝัะผ** (Data Access Layer), ะบะพัะพััะน ะธะฝะบะฐะฟััะปะธััะตั ะฒัั ัะฐะฑะพัั ั SQLite.

#### ะกัะตะผะฐ ะฑะฐะทั ะดะฐะฝะฝัั:

**ะขะฐะฑะปะธัะฐ `tasks`:**
```sql
CREATE TABLE tasks (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    description TEXT,
    completed INTEGER DEFAULT 0,
    category TEXT DEFAULT 'ะะตะท ะบะฐัะตะณะพัะธะธ',
    status TEXT DEFAULT 'ะฝะต ะฒัะฟะพะปะฝะตะฝะพ',
    priority TEXT DEFAULT 'ะฝะตั',
    due_date TEXT,
    created_at TEXT
)
```

**ะขะฐะฑะปะธัะฐ `categories`:**
```sql
CREATE TABLE categories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT UNIQUE NOT NULL
)
```

---

### ะะตัะพะดั ะบะปะฐััะฐ `TodoDatabase`:

#### ะะฝะธัะธะฐะปะธะทะฐัะธั ะธ ะฝะฐัััะพะนะบะฐ

##### `__init__(db_path: str = "todo.db")`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะพะทะดะฐัั ะพะฑัะตะบั ะดะปั ัะฐะฑะพัั ั ะะ.

**ะะฐัะฐะผะตััั:**
- `db_path` โ ะฟััั ะบ ัะฐะนะปั ะฑะฐะทั ะดะฐะฝะฝัั (ะฟะพ ัะผะพะปัะฐะฝะธั `"todo.db"`)

**ะะตะนััะฒะธั:**
- ะกะพััะฐะฝัะตั ะฟััั ะบ ะะ
- ะัะทัะฒะฐะตั `init_db()` ะดะปั ัะพะทะดะฐะฝะธั ัะฐะฑะปะธั

##### `get_connection()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะทะฒัะฐัะฐะตั ะฝะพะฒะพะต ะฟะพะดะบะปััะตะฝะธะต ะบ ะะ.

**ะะพะทะฒัะฐัะฐะตั:** `sqlite3.Connection`

##### `init_db()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฝะธัะธะฐะปะธะทะธััะตั ะฑะฐะทั ะดะฐะฝะฝัั ะธ ะฒัะฟะพะปะฝัะตั ะผะธะณัะฐัะธั ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ.

**ะะพะณะธะบะฐ:**
1. ะัะพะฒะตััะตั ัััะตััะฒะพะฒะฐะฝะธะต ัะฐะฑะปะธัั `tasks`
2. ะัะปะธ ัะฐะฑะปะธัะฐ ะตััั:
   - ะัะพะฒะตััะตั ะฝะฐะปะธัะธะต ะฒัะตั ะฝะตะพะฑัะพะดะธะผัั ะบะพะปะพะฝะพะบ
   - ะัะปะธ ะบะพะปะพะฝะพะบ ะฝะต ัะฒะฐัะฐะตั โ ัะพะทะดะฐัั ะฝะพะฒัั ัะฐะฑะปะธัั ั ะฟัะฐะฒะธะปัะฝะพะน ััะตะผะพะน
   - ะะตัะตะฝะพัะธั ะดะฐะฝะฝัะต ะธะท ััะฐัะพะน ัะฐะฑะปะธัั ะฒ ะฝะพะฒัั
   - ะฃะดะฐะปัะตั ััะฐััั ะธ ะฟะตัะตะธะผะตะฝะพะฒัะฒะฐะตั ะฝะพะฒัั
3. ะัะปะธ ัะฐะฑะปะธัั ะฝะตั โ ัะพะทะดะฐัั ั ะฝัะปั
4. ะกะพะทะดะฐัั ัะฐะฑะปะธัั `categories`
5. ะะพะฑะฐะฒะปัะตั ััะฐะฝะดะฐััะฝัะต ะบะฐัะตะณะพัะธะธ: "ะะฐะฑะพัะฐ", "ะะพะผ", "ะฃััะฑะฐ", "ะะดะพัะพะฒัะต", "ะคะธะฝะฐะฝัั"

---

#### CRUD ะพะฟะตัะฐัะธะธ ั ะทะฐะดะฐัะฐะผะธ

##### `add_task(title, description="", category="ะะตะท ะบะฐัะตะณะพัะธะธ", priority="ะฝะตั", due_date=None) -> int`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะฑะฐะฒะปัะตั ะฝะพะฒัั ะทะฐะดะฐัั ะฒ ะฑะฐะทั ะดะฐะฝะฝัั.

**ะะฐัะฐะผะตััั:**
- `title` โ ะฝะฐะทะฒะฐะฝะธะต ะทะฐะดะฐัะธ (ะพะฑัะทะฐัะตะปัะฝะพ)
- `description` โ ะพะฟะธัะฐะฝะธะต
- `category` โ ะบะฐัะตะณะพัะธั
- `priority` โ ะฟัะธะพัะธัะตั
- `due_date` โ ััะพะบ ะฒัะฟะพะปะฝะตะฝะธั (ัััะพะบะฐ)

**ะะพะณะธะบะฐ:**
1. ะะพะฑะฐะฒะปัะตั ะบะฐัะตะณะพัะธั ะฒ ัะฐะฑะปะธัั `categories` (ะตัะปะธ ะตัั ะฝะตั)
2. ะคะพัะผะธััะตั `created_at` = ัะตะบััะฐั ะดะฐัะฐ/ะฒัะตะผั
3. ะััะฐะฒะปัะตั ะทะฐะฟะธัั ะฒ ัะฐะฑะปะธัั `tasks`
4. ะะพะทะฒัะฐัะฐะตั ID ะฝะพะฒะพะน ะทะฐะดะฐัะธ

**ะะพะทะฒัะฐัะฐะตั:** ID ัะพะทะดะฐะฝะฝะพะน ะทะฐะดะฐัะธ

##### `update_task(task_id, title, description, category, priority, due_date)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑะฝะพะฒะปัะตั ะพัะฝะพะฒะฝัะต ะฟะพะปั ะทะฐะดะฐัะธ.

**ะะฐัะฐะผะตััั:**
- `task_id` โ ID ะทะฐะดะฐัะธ ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั
- ะััะฐะปัะฝัะต ะฟะฐัะฐะผะตััั โ ะฝะพะฒัะต ะทะฝะฐัะตะฝะธั ะฟะพะปะตะน

**ะะพะณะธะบะฐ:**
1. ะะพะฑะฐะฒะปัะตั ะบะฐัะตะณะพัะธั ะฒ ะะ (ะตัะปะธ ะฝะพะฒะฐั)
2. ะัะฟะพะปะฝัะตั `UPDATE` ะทะฐะฟัะพั ะดะปั ะธะทะผะตะฝะตะฝะธั ะฟะพะปะตะน ะทะฐะดะฐัะธ
3. ะะพะผะผะธัะธั ะธะทะผะตะฝะตะฝะธั

**ะัะธะผะตัะฐะฝะธะต:** ะะตัะพะด ะะ ะธะทะผะตะฝัะตั `status` ะธ `completed` โ ะดะปั ััะพะณะพ ะตััั ะพัะดะตะปัะฝัะน ะผะตัะพะด.

##### `update_task_status(task_id, status)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑะฝะพะฒะปัะตั ััะฐััั ะทะฐะดะฐัะธ ะธ ัะธะฝััะพะฝะธะทะธััะตั ัะปะฐะณ `completed`.

**ะะฐัะฐะผะตััั:**
- `task_id` โ ID ะทะฐะดะฐัะธ
- `status` โ ะฝะพะฒัะน ััะฐััั ("ะฝะต ะฒัะฟะพะปะฝะตะฝะพ", "ะฒ ะฟัะพัะตััะต", "ะฒัะฟะพะปะฝะตะฝะพ")

**ะะพะณะธะบะฐ:**
1. ะัะปะธ `status == "ะฒัะฟะพะปะฝะตะฝะพ"` โ `completed = 1`, ะธะฝะฐัะต `completed = 0`
2. ะะฑะฝะพะฒะปัะตั ะพะฑะฐ ะฟะพะปั ะฒ ะะ
3. ะะพะผะผะธัะธั ะธะทะผะตะฝะตะฝะธั

##### `delete_task(task_id)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃะดะฐะปัะตั ะทะฐะดะฐัั ะธะท ะฑะฐะทั ะดะฐะฝะฝัั.

**ะะฐัะฐะผะตััั:**
- `task_id` โ ID ะทะฐะดะฐัะธ ะดะปั ัะดะฐะปะตะฝะธั

**ะะพะณะธะบะฐ:** ะัะฟะพะปะฝัะตั `DELETE FROM tasks WHERE id = ?`

##### `get_task_by_id(task_id) -> Optional[Task]`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะปััะฐะตั ะทะฐะดะฐัั ะฟะพ ะตั ID.

**ะะพะทะฒัะฐัะฐะตั:** ะะฑัะตะบั `Task` ะธะปะธ `None`, ะตัะปะธ ะทะฐะดะฐัะฐ ะฝะต ะฝะฐะนะดะตะฝะฐ

##### `get_all_tasks() -> List[Task]`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะทะฒัะฐัะฐะตั ะฒัะต ะทะฐะดะฐัะธ ะธะท ะฑะฐะทั.

**ะะพะณะธะบะฐ:**
1. ะัะฟะพะปะฝัะตั `SELECT * FROM tasks ORDER BY id`
2. ะัะตะพะฑัะฐะทัะตั ะบะฐะถะดัั ัััะพะบั ะฒ ะพะฑัะตะบั `Task` ัะตัะตะท `_row_to_task()`
3. ะะพะทะฒัะฐัะฐะตั ัะฟะธัะพะบ ะทะฐะดะฐั

**ะะพะทะฒัะฐัะฐะตั:** ะกะฟะธัะพะบ ะพะฑัะตะบัะพะฒ `Task`

##### `toggle_task(task_id)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะตัะตะบะปััะฐะตั ััะฐััั ะฒัะฟะพะปะฝะตะฝะธั ะทะฐะดะฐัะธ (completed).

**ะะพะณะธะบะฐ:**
1. ะงะธัะฐะตั ัะตะบััะตะต ะทะฝะฐัะตะฝะธะต `completed`
2. ะะฝะฒะตััะธััะตั ะตะณะพ (0 โ 1, 1 โ 0)
3. ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั ัะพะพัะฒะตัััะฒัััะธะน `status`
4. ะะฑะฝะพะฒะปัะตั ะฒ ะะ

**ะัะธะผะตัะฐะฝะธะต:** ะ ัะตะบััะตะน ะฒะตััะธะธ GUI ััะพั ะผะตัะพะด ะฝะต ะธัะฟะพะปัะทัะตััั ะฝะฐะฟััะผัั.

---

#### ะะพะธัะบ ะธ ัะธะปัััะฐัะธั

##### `search_tasks(query) -> List[Task]`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะธัะบ ะทะฐะดะฐั ะฟะพ ะฟะพะดัััะพะบะต ะฒ ะทะฐะณะพะปะพะฒะบะต ะธะปะธ ะพะฟะธัะฐะฝะธะธ.

**ะะฐัะฐะผะตััั:**
- `query` โ ัััะพะบะฐ ะดะปั ะฟะพะธัะบะฐ

**ะะพะณะธะบะฐ:**
1. ะคะพัะผะธััะตั ะฟะฐััะตัะฝ `"%{query}%"`
2. ะัะฟะพะปะฝัะตั SQL ะทะฐะฟัะพั: `WHERE title LIKE ? OR description LIKE ?`
3. ะะพะทะฒัะฐัะฐะตั ัะฟะธัะพะบ ะฝะฐะนะดะตะฝะฝัั ะทะฐะดะฐั

**ะะพะทะฒัะฐัะฐะตั:** ะกะฟะธัะพะบ `Task`, ัะพะดะตัะถะฐัะธั ะธัะบะพะผัั ะฟะพะดัััะพะบั

##### `filter_tasks(category=None, priority=None, status=None, date_from=None, date_to=None, sort_order="ASC") -> List[Task]`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะคะธะปัััะฐัะธั ะทะฐะดะฐั ะฟะพ ะฝะตัะบะพะปัะบะธะผ ะบัะธัะตัะธัะผ.

**ะะฐัะฐะผะตััั:**
- `category` โ ัะธะปััั ะฟะพ ะบะฐัะตะณะพัะธะธ
- `priority` โ ัะธะปััั ะฟะพ ะฟัะธะพัะธัะตัั
- `status` โ ัะธะปััั ะฟะพ ััะฐัััั
- `date_from` / `date_to` โ ะดะธะฐะฟะฐะทะพะฝ ะดะฐั
- `sort_order` โ ะฟะพััะดะพะบ ัะพััะธัะพะฒะบะธ ("ASC" ะธะปะธ "DESC")

**ะะพะณะธะบะฐ:**
1. ะะฐัะธะฝะฐะตั ั `WHERE 1=1` (ะฒัะตะณะดะฐ ะธััะธะฝะฐ)
2. ะะพะฑะฐะฒะปัะตั ััะปะพะฒะธั ัะพะปัะบะพ ะดะปั ะทะฐะดะฐะฝะฝัั ัะธะปัััะพะฒ
3. ะัะธะผะตะฝัะตั ัะพััะธัะพะฒะบั ะฟะพ `id`
4. ะัะฟะพะปะฝัะตั ะทะฐะฟัะพั ะธ ะฒะพะทะฒัะฐัะฐะตั ัะตะทัะปััะฐั

**ะะพะทะฒัะฐัะฐะตั:** ะััะธะปัััะพะฒะฐะฝะฝัะน ัะฟะธัะพะบ ะทะฐะดะฐั

---

#### ะะฐะฑะพัะฐ ั ะบะฐัะตะณะพัะธัะผะธ

##### `get_categories() -> List[str]`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะปััะฐะตั ัะฟะธัะพะบ ะฒัะตั ะบะฐัะตะณะพัะธะน.

**ะะพะณะธะบะฐ:** ะัะฟะพะปะฝัะตั `SELECT name FROM categories ORDER BY name`

**ะะพะทะฒัะฐัะฐะตั:** ะกะฟะธัะพะบ ะฝะฐะทะฒะฐะฝะธะน ะบะฐัะตะณะพัะธะน

##### `delete_category(category_name)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃะดะฐะปัะตั ะบะฐัะตะณะพัะธั ะธ ะฟะตัะตะฒะพะดะธั ัะฒัะทะฐะฝะฝัะต ะทะฐะดะฐัะธ ะฒ "ะะตะท ะบะฐัะตะณะพัะธะธ".

**ะะพะณะธะบะฐ:**
1. ะฃะดะฐะปัะตั ะบะฐัะตะณะพัะธั ะธะท ัะฐะฑะปะธัั `categories`
2. ะะฑะฝะพะฒะปัะตั ะฒัะต ะทะฐะดะฐัะธ ั ััะพะน ะบะฐัะตะณะพัะธะตะน, ัััะฐะฝะฐะฒะปะธะฒะฐั "ะะตะท ะบะฐัะตะณะพัะธะธ"
3. ะะพะผะผะธัะธั ะธะทะผะตะฝะตะฝะธั

---

#### ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ะผะตัะพะดั

##### `_row_to_task(row) -> Task`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะตะพะฑัะฐะทัะตั ัััะพะบั ะธะท SQLite ะฒ ะพะฑัะตะบั `Task`.

**ะะพะณะธะบะฐ:**
- ะะฐะฟะฟะธั ะธะฝะดะตะบัั ะบะพะปะพะฝะพะบ ะฝะฐ ะฟะพะปั `Task`
- ะัะฟะพะปัะทัะตั ะทะฝะฐัะตะฝะธั ะฟะพ ัะผะพะปัะฐะฝะธั, ะตัะปะธ ะบะพะปะพะฝะบะธ ะพััััััะฒััั
- ะะพะทะฒัะฐัะฐะตั ะณะพัะพะฒัะน ะพะฑัะตะบั `Task`

---

## ๐ฅ๏ธ 3. ะะพะดัะปั `main_gui.py` โ ะัะฐัะธัะตัะบะธะน ะธะฝัะตััะตะนั

ะญัะพั ะผะพะดัะปั ัะพะดะตัะถะธั ะฒะตัั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะธะฝัะตััะตะนั ะฟัะธะปะพะถะตะฝะธั.

### ะะปะพะฑะฐะปัะฝัะต ัะปะตะผะตะฝัั

#### ะะผะฟะพัั ะบะฐะปะตะฝะดะฐัั

```python
try:
    from tkcalendar import Calendar
    CALENDAR_AVAILABLE = True
except ImportError:
    CALENDAR_AVAILABLE = False
```

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะพะฒะตััะตั ะดะพัััะฟะฝะพััั ะฑะธะฑะปะธะพัะตะบะธ `tkcalendar`. ะัะปะธ ะตั ะฝะตั, ะบะฐะปะตะฝะดะฐัะฝัะต ััะฝะบัะธะธ ะฟะพะบะฐะทัะฒะฐัั ะธะฝััััะบัะธั ะฟะพ ัััะฐะฝะพะฒะบะต.

#### ะกะปะพะฒะฐัั ัะฒะตัะพะฒ `COLORS`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝะฐั ัะฒะตัะพะฒะฐั ััะตะผะฐ ะฒ ััะผะฝะพะน ัะตะผะต.

```python
COLORS = {
    "bg": "#1e1e1e",           # ะคะพะฝ ะฟัะธะปะพะถะตะฝะธั
    "fg": "#ffffff",           # ะขะตะบัั
    "input_bg": "#2d2d2d",     # ะคะพะฝ ะฟะพะปะตะน ะฒะฒะพะดะฐ
    "button_bg": "#0d7377",    # ะคะพะฝ ะบะฝะพะฟะพะบ
    "button_hover": "#14a085", # ะะฝะพะฟะบะฐ ะฟัะธ ะฝะฐะฒะตะดะตะฝะธะธ
    "accent": "#323232",       # ะะบัะตะฝัะฝัะน ัะฒะตั
    "border": "#3e3e3e",       # ะฆะฒะตั ัะฐะผะพะบ
    "success": "#4caf50",      # ะะตะปัะฝัะน (ััะฟะตั)
    "warning": "#ff9800",      # ะัะฐะฝะถะตะฒัะน (ะฟัะตะดัะฟัะตะถะดะตะฝะธะต)
    "danger": "#f44336",       # ะัะฐัะฝัะน (ะพะฟะฐัะฝะพััั)
    "info": "#2196f3"          # ะกะธะฝะธะน (ะธะฝัะพัะผะฐัะธั)
}
```

---

### ะะธะฐะปะพะณะพะฒัะต ะพะบะฝะฐ ะธ ะฒะธะดะถะตัั

#### ะะปะฐัั `CalendarDialog(tk.Toplevel)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะดะฐะปัะฝะพะต ะพะบะฝะพ ะดะปั ะฒัะฑะพัะฐ ะดะฐัั ั ะฟะพะผะพััั ะบะฐะปะตะฝะดะฐัั.

##### `__init__(parent, current_date=None)`

**ะะฐัะฐะผะตััั:**
- `parent` โ ัะพะดะธัะตะปััะบะพะต ะพะบะฝะพ
- `current_date` โ ัะตะบััะฐั ะฒัะฑัะฐะฝะฝะฐั ะดะฐัะฐ (ัะพัะผะฐั: "YYYY-MM-DD")

**ะะพะณะธะบะฐ:**
1. ะะตะปะฐะตั ะพะบะฝะพ ะผะพะดะฐะปัะฝัะผ (`transient`, `grab_set`)
2. ะัะปะธ `tkcalendar` ะดะพัััะฟะตะฝ:
   - ะกะพะทะดะฐัั ะฒะธะดะถะตั `Calendar`
   - ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั ัะตะบัััั ะดะฐัั ะธะปะธ ัะตะณะพะดะฝััะฝัั
3. ะะฝะฐัะต ะฟะพะบะฐะทัะฒะฐะตั ะธะฝััััะบัะธั ัััะฐะฝะพะฒะบะธ
4. ะะพะฑะฐะฒะปัะตั ะบะฝะพะฟะบะธ: "ะัะฑัะฐัั", "ะกะตะณะพะดะฝั", "ะัะผะตะฝะฐ"
5. ะฆะตะฝััะธััะตั ะพะบะฝะพ ะฝะฐ ัะบัะฐะฝะต

##### `_select_date()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑัะฐะฑะฐััะฒะฐะตั ะฒัะฑะพั ะดะฐัั.

**ะะพะณะธะบะฐ:**
1. ะะพะปััะฐะตั ะดะฐัั ะธะท ะบะฐะปะตะฝะดะฐัั
2. ะัะตะพะฑัะฐะทัะตั ะฒ ัะพัะผะฐั "YYYY-MM-DD"
3. ะกะพััะฐะฝัะตั ะฒ `self.selected_date`
4. ะะฐะบััะฒะฐะตั ะดะธะฐะปะพะณ

##### `_select_today()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัััััะน ะฒัะฑะพั ัะตะณะพะดะฝััะฝะตะน ะดะฐัั.

---

#### ะะปะฐัั `TimePickerDialog(tk.Toplevel)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะดะฐะปัะฝะพะต ะพะบะฝะพ ะดะปั ะฒัะฑะพัะฐ ะฒัะตะผะตะฝะธ (ัะฐัั ะธ ะผะธะฝััั).

##### `__init__(parent, current_time=None)`

**ะะฐัะฐะผะตััั:**
- `parent` โ ัะพะดะธัะตะปััะบะพะต ะพะบะฝะพ
- `current_time` โ ัะตะบััะตะต ะฒัะตะผั (ัะพัะผะฐั: "HH:MM")

**ะะพะณะธะบะฐ:**
1. ะกะพะทะดะฐัั `Spinbox` ะดะปั ัะฐัะพะฒ (0-23) ะธ ะผะธะฝัั (0-59)
2. ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั ะฝะฐัะฐะปัะฝัะต ะทะฝะฐัะตะฝะธั
3. ะะพะฑะฐะฒะปัะตั ะบะฝะพะฟะบะธ ะฑััััะพะณะพ ะฒัะฑะพัะฐ: "09:00", "12:00", "18:00", "ะกะตะนัะฐั"
4. ะะฝะพะฟะบะธ "ะัะฑัะฐัั" ะธ "ะัะผะตะฝะฐ"

##### `_set_quick_time(time_str)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃััะฐะฝะฐะฒะปะธะฒะฐะตั ะฒัะตะผั ะฟะพ ะฝะฐะถะฐัะธั ะบะฝะพะฟะพะบ ะฑััััะพะณะพ ะฒัะฑะพัะฐ.

**ะะฐัะฐะผะตััั:**
- `time_str` โ ัััะพะบะฐ "HH:MM" ะธะปะธ `None` (ะดะปั ัะตะบััะตะณะพ ะฒัะตะผะตะฝะธ)

##### `_select_time()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะพััะฐะฝัะตั ะฒัะฑัะฐะฝะฝะพะต ะฒัะตะผั ะฒ ัะพัะผะฐัะต "HH:MM" ะธ ะทะฐะบััะฒะฐะตั ะดะธะฐะปะพะณ.

---

#### ะะปะฐัั `DateTimeInput(tk.Frame)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะพััะฐะฒะฝะพะน ะฒะธะดะถะตั ะดะปั ะฒะฒะพะดะฐ ะดะฐัั ะธ ะฒัะตะผะตะฝะธ ั ะบะฝะพะฟะบะฐะผะธ ะฒัะฑะพัะฐ.

##### `__init__(parent, **kwargs)`

**ะกะพะทะดะฐัั:**
- ะะพะปะต ะฒะฒะพะดะฐ ะดะฐัั ั placeholder "ะะะะ-ะะ-ะะ"
- ะะฝะพะฟะบั ั ะธะบะพะฝะบะพะน ๐ ะดะปั ะพัะบัััะธั ะบะฐะปะตะฝะดะฐัั
- ะะพะปะต ะฒะฒะพะดะฐ ะฒัะตะผะตะฝะธ ั placeholder "ะงะง:ะะ"
- ะะฝะพะฟะบั ั ะธะบะพะฝะบะพะน ๐ ะดะปั ะพัะบัััะธั ะฒัะฑะพัะฐ ะฒัะตะผะตะฝะธ

##### `_open_calendar()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะบััะฒะฐะตั `CalendarDialog` ะธ ะทะฐะฟะธััะฒะฐะตั ะฒัะฑัะฐะฝะฝัั ะดะฐัั ะฒ ะฟะพะปะต.

##### `_open_time_picker()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะบััะฒะฐะตั `TimePickerDialog` ะธ ะทะฐะฟะธััะฒะฐะตั ะฒัะฑัะฐะฝะฝะพะต ะฒัะตะผั ะฒ ะฟะพะปะต.

##### `_on_date_focus_in(event)` / `_on_date_focus_out(event)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃะฟัะฐะฒะปะตะฝะธะต placeholder ะดะปั ะฟะพะปั ะดะฐัั:
- ะัะธ ัะพะบััะต โ ะพัะธัะฐะตั placeholder
- ะัะธ ะฟะพัะตัะต ัะพะบััะฐ (ะตัะปะธ ะฟะพะปะต ะฟัััะพะต) โ ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐะตั placeholder

##### ะะฝะฐะปะพะณะธัะฝะพ ะดะปั ะฒัะตะผะตะฝะธ: `_on_time_focus_in` / `_on_time_focus_out`

##### `get_datetime() -> Optional[str]`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะทะฒัะฐัะฐะตั ะฒะฒะตะดัะฝะฝัะต ะดะฐัั ะธ ะฒัะตะผั ะบะฐะบ ะพะดะฝั ัััะพะบั.

**ะะพะณะธะบะฐ:**
1. ะัะพะฒะตััะตั, ััะพ ะพะฑะฐ ะฟะพะปั ะทะฐะฟะพะปะฝะตะฝั ะธ ะฝะต ัะพะดะตัะถะฐั placeholder
2. ะะฐะปะธะดะธััะตั ัะพัะผะฐั ัะตัะตะท `datetime.strptime`
3. ะะพะทะฒัะฐัะฐะตั ัััะพะบั "YYYY-MM-DD HH:MM" ะธะปะธ `None` ะฟัะธ ะพัะธะฑะบะต

##### `set_datetime(datetime_str: str)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐะฟะพะปะฝัะตั ะฟะพะปั ะธะท ัััะพะบะธ ะฒะธะดะฐ "YYYY-MM-DD HH:MM".

##### `clear()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะธัะฐะตั ะพะฑะฐ ะฟะพะปั ะธ ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐะตั placeholder.

---

#### ะะปะฐัั `ManageCategoriesDialog(tk.Toplevel)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะบะฝะพ ัะฟัะฐะฒะปะตะฝะธั ะบะฐัะตะณะพัะธัะผะธ (ะฟัะพัะผะพัั, ะดะพะฑะฐะฒะปะตะฝะธะต, ัะดะฐะปะตะฝะธะต).

##### `__init__(parent, db, update_callback)`

**ะะฐัะฐะผะตััั:**
- `parent` โ ัะพะดะธัะตะปััะบะพะต ะพะบะฝะพ
- `db` โ ะพะฑัะตะบั `TodoDatabase`
- `update_callback` โ ััะฝะบัะธั ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ะณะปะฐะฒะฝะพะณะพ ะพะบะฝะฐ ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธะน

##### `_create_widgets()`

**ะกะพะทะดะฐัั:**
- ะะพะปะต ะฒะฒะพะดะฐ ะฝะพะฒะพะน ะบะฐัะตะณะพัะธะธ
- ะะฝะพะฟะบั "ะะพะฑะฐะฒะธัั"
- ะกะฟะธัะพะบ (`Listbox`) ัััะตััะฒัััะธั ะบะฐัะตะณะพัะธะน
- ะะฝะพะฟะบะธ "ะฃะดะฐะปะธัั" ะธ "ะะฐะบัััั"

##### `_load_categories()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐะณััะถะฐะตั ะบะฐัะตะณะพัะธะธ ะธะท ะะ ะธ ะทะฐะฟะพะปะฝัะตั `Listbox`.

##### `_add_category()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะฑะฐะฒะปัะตั ะฝะพะฒัั ะบะฐัะตะณะพัะธั.

**ะะพะณะธะบะฐ:**
1. ะะฐะปะธะดะธััะตั ะฝะตะฟัััะพะต ะธะผั
2. ะัะฟะพะปะฝัะตั `INSERT INTO categories`
3. ะะฑัะฐะฑะฐััะฒะฐะตั ะพัะธะฑะบั ะดัะฑะปะธัะพะฒะฐะฝะธั (UNIQUE constraint)
4. ะะฑะฝะพะฒะปัะตั ัะฟะธัะพะบ ะธ ะฒัะทัะฒะฐะตั `update_callback()`

##### `_delete_category()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃะดะฐะปัะตั ะฒัะฑัะฐะฝะฝัั ะบะฐัะตะณะพัะธั.

**ะะพะณะธะบะฐ:**
1. ะัะพะฒะตััะตั, ััะพ ะบะฐัะตะณะพัะธั ะฒัะฑัะฐะฝะฐ
2. ะะฐะฟัะฐัะธะฒะฐะตั ะฟะพะดัะฒะตัะถะดะตะฝะธะต (`messagebox.askyesno`)
3. ะัะทัะฒะฐะตั `db.delete_category()`
4. ะะฑะฝะพะฒะปัะตั UI ะธ ะณะปะฐะฒะฝะพะต ะพะบะฝะพ

---

#### ะะปะฐัั `ModernButton(tk.Button)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐััะพะผะฝะฐั ะบะฝะพะฟะบะฐ ั ัััะตะบัะพะผ ะฝะฐะฒะตะดะตะฝะธั (hover).

##### `__init__(..., bg_color, hover_color, fg_color, width, height, **kwargs)`

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะัะธะฝะธะผะฐะตั ัะฐะทะผะตัั ะฒ ะฟะธะบัะตะปัั
- ะัะตะพะฑัะฐะทัะตั `width` ะฒ ัะธะผะฒะพะปัะฝัั ัะธัะธะฝั ะดะปั Tkinter
- ะัะธะฒัะทัะฒะฐะตั ัะพะฑััะธั `<Enter>` ะธ `<Leave>` ะดะปั hover-ัััะตะบัะฐ

##### `_on_enter(e)` / `_on_leave(e)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะตะฝัะตั ัะฒะตั ัะพะฝะฐ ะฟัะธ ะฝะฐะฒะตะดะตะฝะธะธ/ะพัะฒะตะดะตะฝะธะธ ะบัััะพัะฐ.

---

#### ะะปะฐัั `EditTaskDialog(tk.Toplevel)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะดะฐะปัะฝะพะต ะพะบะฝะพ ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะทะฐะดะฐัะธ.

##### `__init__(parent, task: Task, db: TodoDatabase, callback)`

**ะะฐัะฐะผะตััั:**
- `task` โ ัะตะดะฐะบัะธััะตะผะฐั ะทะฐะดะฐัะฐ
- `db` โ ะดะพัััะฟ ะบ ะะ
- `callback` โ ััะฝะบัะธั ะพะฑะฝะพะฒะปะตะฝะธั ัะฟะธัะบะฐ ะฟะพัะปะต ัะพััะฐะฝะตะฝะธั

**ะกะพะทะดะฐัั ัะพัะผั ั ะฟะพะปัะผะธ:**
- ะะฐะณะพะปะพะฒะพะบ (`Entry`)
- ะะฟะธัะฐะฝะธะต (`Text`)
- ะะฐัะตะณะพัะธั (`Combobox`)
- ะกัะฐััั (`Combobox`)
- ะัะธะพัะธัะตั (`Combobox`)
- ะกัะพะบ ะฒัะฟะพะปะฝะตะฝะธั (`DateTimeInput`)
- ะะฝะพะฟะบะธ "ะกะพััะฐะฝะธัั" ะธ "ะัะผะตะฝะฐ"

##### `_save_task()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะพััะฐะฝัะตั ะธะทะผะตะฝะตะฝะธั ะฒ ะะ.

**ะะพะณะธะบะฐ:**
1. ะะฐะปะธะดะธััะตั ะฝะตะฟัััะพะน ะทะฐะณะพะปะพะฒะพะบ
2. ะกะพะฑะธัะฐะตั ะดะฐะฝะฝัะต ะธะท ะฒัะตั ะฟะพะปะตะน
3. ะัะทัะฒะฐะตั `db.update_task(...)` ะดะปั ะพัะฝะพะฒะฝัั ะฟะพะปะตะน
4. ะัะทัะฒะฐะตั `db.update_task_status(...)` ะดะปั ััะฐัััะฐ
5. ะัะทัะฒะฐะตั `callback()` ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ัะฟะธัะบะฐ
6. ะะฐะบััะฒะฐะตั ะดะธะฐะปะพะณ

---

#### ะะปะฐัั `TaskItem(tk.Frame)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะธะดะถะตั "ะบะฐััะพัะบะฐ ะทะฐะดะฐัะธ" ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ะฒ ัะฟะธัะบะต.

##### `__init__(parent, task: Task, db: TodoDatabase, refresh_callback, **kwargs)`

**ะะฐัะฐะผะตััั:**
- `task` โ ะทะฐะดะฐัะฐ ะดะปั ะพัะพะฑัะฐะถะตะฝะธั
- `db` โ ะดะพัััะฟ ะบ ะะ
- `refresh_callback` โ ััะฝะบัะธั ะพะฑะฝะพะฒะปะตะฝะธั ัะฟะธัะบะฐ ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธะน

**ะกะพะทะดะฐัั:**
1. ะฆะฒะตัะฝะพะน ะธะฝะดะธะบะฐัะพั ะฟัะธะพัะธัะตัะฐ (ะฒะตััะธะบะฐะปัะฝะฐั ะฟะพะปะพัะบะฐ ัะปะตะฒะฐ)
2. ะะฐะณะพะปะพะฒะพะบ ั ะฝะพะผะตัะพะผ ะทะฐะดะฐัะธ: "#ID ะฝะฐะทะฒะฐะฝะธะต"
3. ะะพะผะตัะบะฐ "โ๏ธ ะะะะกะะะงะะะ", ะตัะปะธ ะทะฐะดะฐัะฐ ะฟัะพััะพัะตะฝะฐ
4. ะะฟะธัะฐะฝะธะต (ะฟะตัะฒัะต 100 ัะธะผะฒะพะปะพะฒ)
5. ะะตะนะดะถะธ: ะบะฐัะตะณะพัะธั, ะฟัะธะพัะธัะตั, ััะพะบ, ััะฐััั
6. ะญะปะตะผะตะฝัั ัะฟัะฐะฒะปะตะฝะธั:
   - `Combobox` ะดะปั ัะผะตะฝั ััะฐัััะฐ
   - ะะฝะพะฟะบะฐ "โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั"
   - ะะฝะพะฟะบะฐ "๐๏ธ ะฃะดะฐะปะธัั"

##### `_on_enter(e)` / `_on_leave(e)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะดัะฒะตัะบะฐ ะบะฐััะพัะบะธ ะฟัะธ ะฝะฐะฒะตะดะตะฝะธะธ (ะผะตะฝัะตั ัะพะฝ ะธ ัะฐะผะบั).

##### `_create_badge(parent, text, color)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะพะทะดะฐัั ัะฒะตัะฝะพะน ะฑะตะนะดะถ (label) ั ะทะฐะดะฐะฝะฝัะผ ัะตะบััะพะผ ะธ ัะฒะตัะพะผ.

##### `_get_priority_color() -> str`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะทะฒัะฐัะฐะตั hex-ัะฒะตั ะธะฝะดะธะบะฐัะพัะฐ ะฟัะธะพัะธัะตัะฐ.

##### `_on_status_change(event)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑัะฐะฑะพััะธะบ ะธะทะผะตะฝะตะฝะธั ััะฐัััะฐ ัะตัะตะท `Combobox`.

**ะะพะณะธะบะฐ:**
1. ะะพะปััะฐะตั ะฝะพะฒัะน ััะฐััั
2. ะัะทัะฒะฐะตั `db.update_task_status()`
3. ะัะทัะฒะฐะตั `refresh_callback()` ะดะปั ะฟะตัะตัะธัะพะฒะบะธ

##### `_edit_task()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะบััะฒะฐะตั ะดะธะฐะปะพะณ ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะทะฐะดะฐัะธ.

**ะะพะณะธะบะฐ:**
1. ะะพะปััะฐะตั ะฐะบััะฐะปัะฝัั ะทะฐะดะฐัั ะธะท ะะ (`get_task_by_id`)
2. ะัะปะธ ะทะฐะดะฐัะฐ ะฝะฐะนะดะตะฝะฐ โ ะพัะบััะฒะฐะตั `EditTaskDialog`
3. ะะตัะตะดะฐัั `refresh_callback` ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ะฟะพัะปะต ัะพััะฐะฝะตะฝะธั

##### `_delete_task()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฃะดะฐะปัะตั ะทะฐะดะฐัั ะฟะพัะปะต ะฟะพะดัะฒะตัะถะดะตะฝะธั.

**ะะพะณะธะบะฐ:**
1. ะะพะบะฐะทัะฒะฐะตั ะดะธะฐะปะพะณ ะฟะพะดัะฒะตัะถะดะตะฝะธั
2. ะัะทัะฒะฐะตั `db.delete_task()`
3. ะัะทัะฒะฐะตั `refresh_callback()`

---

#### ะะปะฐัั `FilterPanel(tk.Frame)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐะฝะตะปั ะฟะพะธัะบะฐ ะธ ัะธะปัััะฐัะธะธ ะทะฐะดะฐั.

##### `__init__(parent, db: TodoDatabase, apply_callback, **kwargs)`

**ะะฐัะฐะผะตััั:**
- `db` โ ะดะปั ะฟะพะปััะตะฝะธั ัะฟะธัะบะฐ ะบะฐัะตะณะพัะธะน
- `apply_callback` โ ะฒัะทัะฒะฐะตััั ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ัะธะปัััะพะฒ

**ะกะพะทะดะฐัั:**
- ะะพะปะต ะฟะพะธัะบะฐ (ั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ัะธะปัััะฐัะธะตะน ะฟัะธ ะฒะฒะพะดะต)
- ะะฝะพะฟะบะฐ ะพัะธััะบะธ ะฟะพะธัะบะฐ
- `Combobox` ะบะฐัะตะณะพัะธะธ (ะัะต / ะบะพะฝะบัะตัะฝะฐั ะบะฐัะตะณะพัะธั)
- `Combobox` ะฟัะธะพัะธัะตัะฐ
- `Combobox` ััะฐัััะฐ
- `Combobox` ัะพััะธัะพะฒะบะธ (ะกัะฐััะต/ะะพะฒัะต)
- ะะฝะพะฟะบะฐ "ะกะฑัะพัะธัั ัะธะปัััั"

##### `_create_widgets()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกััะพะธั ะธะฝัะตััะตะนั ะฟะฐะฝะตะปะธ.

**ะัะพะฑะตะฝะฝะพััั:** ะะพะปะต ะฟะพะธัะบะฐ ะธัะฟะพะปัะทัะตั `trace("w", ...)` ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะฒัะทะพะฒะฐ ัะธะปัััะฐัะธะธ ะฟัะธ ะบะฐะถะดะพะผ ะธะทะผะตะฝะตะฝะธะธ ัะตะบััะฐ.

##### `update_category_values()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑะฝะพะฒะปัะตั ัะฟะธัะพะบ ะบะฐัะตะณะพัะธะน ะฒ `Combobox`.

**ะะพะณะธะบะฐ:**
1. ะะพะปััะฐะตั ะบะฐัะตะณะพัะธะธ ะธะท ะะ
2. ะคะพัะผะธััะตั ัะฟะธัะพะบ `["ะัะต"] + categories`
3. ะัะปะธ ัะตะบััะตะต ะทะฝะฐัะตะฝะธะต ะฝะต ัััะตััะฒัะตั โ ัะฑัะฐััะฒะฐะตั ะฝะฐ "ะัะต"

##### `_clear_search()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะธัะฐะตั ัััะพะบั ะฟะพะธัะบะฐ.

##### `_reset_filters()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะฑัะฐััะฒะฐะตั ะฒัะต ัะธะปัััั ะบ ะทะฝะฐัะตะฝะธัะผ ะฟะพ ัะผะพะปัะฐะฝะธั:
- ะะฐัะตะณะพัะธั โ "ะัะต"
- ะัะธะพัะธัะตั โ "ะัะต"
- ะกัะฐััั โ "ะัะต"
- ะกะพััะธัะพะฒะบะฐ โ "ะกัะฐััะต"

##### `get_filters() -> dict`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะทะฒัะฐัะฐะตั ัะปะพะฒะฐัั ัะตะบััะธั ัะธะปัััะพะฒ.

**ะะพะทะฒัะฐัะฐะตั:**
```python
{
    "search": "ัััะพะบะฐ ะฟะพะธัะบะฐ",
    "category": "ะบะฐัะตะณะพัะธั" ะธะปะธ None,
    "priority": "ะฟัะธะพัะธัะตั" ะธะปะธ None,
    "status": "ััะฐััั" ะธะปะธ None,
    "sort_order": "ASC" ะธะปะธ "DESC"
}
```

**ะะพะณะธะบะฐ ะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธั:**
- ะัะปะธ ะทะฝะฐัะตะฝะธะต == "ะัะต" โ ะทะฐะผะตะฝัะตั ะฝะฐ `None`
- ะะปั ัะพััะธัะพะฒะบะธ: ะฟัะพะฒะตััะตั ะฝะฐะปะธัะธะต ะฟะพะดัััะพะบะธ "ะบะพะฝัะฐ" โ "DESC", ะธะฝะฐัะต "ASC"

---

### ะะปะฐะฒะฝัะน ะบะปะฐัั ะฟัะธะปะพะถะตะฝะธั

#### ะะปะฐัั `TodoApp`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะปะฐะฒะฝะพะต ะพะบะฝะพ ะฟัะธะปะพะถะตะฝะธั, ะบะพะพัะดะธะฝะธััะตั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ.

##### `__init__(root)`

**ะะฐัะฐะผะตััั:**
- `root` โ ะพะฑัะตะบั `tk.Tk()`

**ะะพะณะธะบะฐ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ:**
1. ะกะพะทะดะฐัั `TodoDatabase()` (ะธะฝะธัะธะฐะปะธะทะธััะตั ะะ)
2. ะกะพััะฐะฝัะตั `root`
3. ะะฐัััะฐะธะฒะฐะตั ะพะบะฝะพ:
   - ะะฐะณะพะปะพะฒะพะบ "๐ RoutineApp - ะะตะฝะตะดะถะตั ะะฐะดะฐั"
   - ะะฐะทะผะตั 1400ร900
   - ะขัะผะฝัะน ัะพะฝ
4. ะัะทัะฒะฐะตั `_setup_styles()` (ะฝะฐัััะพะนะบะฐ ััะธะปะตะน ttk)
5. ะัะทัะฒะฐะตั `_create_widgets()` (ัะพะทะดะฐะฝะธะต ะธะฝัะตััะตะนัะฐ)
6. ะัะทัะฒะฐะตั `refresh_tasks()` (ะทะฐะณััะทะบะฐ ะทะฐะดะฐั)

##### `_get_all_categories()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะทะฒัะฐัะฐะตั ัะฟะธัะพะบ ะบะฐัะตะณะพัะธะน ะธะท ะะ (ะฟัะพะบัะธ ะบ `db.get_categories()`).

##### `_setup_styles()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฐัััะฐะธะฒะฐะตั ััะธะปะธ `ttk` ะฟะพะด ััะผะฝัั ัะตะผั.

**ะะฐัััะฐะธะฒะฐะตั:**
- `TFrame` โ ัะพะฝ ะดะปั ััะตะนะผะพะฒ
- `TLabel` โ ัะฒะตั ัะตะบััะฐ
- `TCombobox` โ ััะธะปะธ ะฒัะฟะฐะดะฐััะธั ัะฟะธัะบะพะฒ
- `Vertical.TScrollbar` โ ััะธะปั ัะบัะพะปะปะฑะฐัะฐ

##### `_create_widgets()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกะพะทะดะฐัั ะฒะตัั ะธะฝัะตััะตะนั ะณะปะฐะฒะฝะพะณะพ ะพะบะฝะฐ.

**ะกัััะบัััะฐ ะธะฝัะตััะตะนัะฐ:**

1. **ะกะตะบัะธั ะดะพะฑะฐะฒะปะตะฝะธั ะทะฐะดะฐัะธ** (`add_section`):
   - ะะพะปะต ะทะฐะณะพะปะพะฒะบะฐ (`Entry`)
   - ะะพะปะต ะพะฟะธัะฐะฝะธั (`Text`, 4 ัััะพะบะธ)
   - `Combobox` ะบะฐัะตะณะพัะธะธ
   - `Combobox` ะฟัะธะพัะธัะตัะฐ
   - ะะพะปั ะดะฐัั ะธ ะฒัะตะผะตะฝะธ (ั ะบะฝะพะฟะบะฐะผะธ ะบะฐะปะตะฝะดะฐัั)
   - ะะฝะพะฟะบะฐ "โ ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั"
   - ะะฝะพะฟะบะฐ "๐ ะฃะฟัะฐะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธัะผะธ"

2. **ะะฐะฝะตะปั ัะธะปัััะพะฒ** (`FilterPanel`):
   - ะัััะพะตะฝะฝัะน ะฒะธะดะถะตั ัะธะปัััะฐัะธะธ

3. **ะกะฟะธัะพะบ ะทะฐะดะฐั**:
   - `Canvas` ะดะปั ะฟัะพะบัััะบะธ
   - ะะตััะธะบะฐะปัะฝัะน `Scrollbar`
   - `tasks_frame` โ ะบะพะฝัะตะนะฝะตั ะดะปั ะบะฐััะพัะตะบ ะทะฐะดะฐั
   - ะัะธะฒัะทะบะฐ ะบะพะปะตัะฐ ะผััะธ ะดะปั ะฟัะพะบัััะบะธ

##### `_on_mousewheel(event)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑัะฐะฑะพััะธะบ ะฟัะพะบัััะบะธ ะบะพะปะตัะพะผ ะผััะธ.

**ะะพะณะธะบะฐ:**
- ะะฟัะตะดะตะปัะตั ะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฟัะพะบัััะบะธ (`event.delta` ะดะปั Windows/macOS)
- ะัะทัะฒะฐะตั `canvas.yview_scroll()` ะดะปั ะฟัะพะบัััะบะธ

**ะัะพะฑะตะฝะฝะพััั:** ะ Linux ะธัะฟะพะปัะทััััั ัะพะฑััะธั `Button-4` ะธ `Button-5` ะฒะผะตััะพ `MouseWheel`.

##### `_open_manage_categories()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะบััะฒะฐะตั ะดะธะฐะปะพะณ ัะฟัะฐะฒะปะตะฝะธั ะบะฐัะตะณะพัะธัะผะธ.

**ะะพะณะธะบะฐ:**
1. ะะฟัะตะดะตะปัะตั ะฒะฝัััะตะฝะฝัั ััะฝะบัะธั `update_categories()`:
   - ะะฑะฝะพะฒะปัะตั ะบะฐัะตะณะพัะธะธ ะฒ ัะพัะผะต ะดะพะฑะฐะฒะปะตะฝะธั
   - ะะฑะฝะพะฒะปัะตั ะบะฐัะตะณะพัะธะธ ะฒ ะฟะฐะฝะตะปะธ ัะธะปัััะพะฒ
   - ะะฑะฝะพะฒะปัะตั ัะฟะธัะพะบ ะทะฐะดะฐั
2. ะกะพะทะดะฐัั ะธ ะฟะพะบะฐะทัะฒะฐะตั `ManageCategoriesDialog`
3. ะะตัะตะดะฐัั `update_categories` ะบะฐะบ callback

##### `_open_calendar_dialog()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะบััะฒะฐะตั ะบะฐะปะตะฝะดะฐัั ะดะปั ะฒัะฑะพัะฐ ะดะฐัั ะฒ ัะพัะผะต ะดะพะฑะฐะฒะปะตะฝะธั ะทะฐะดะฐัะธ.

**ะะพะณะธะบะฐ:**
1. ะะพะปััะฐะตั ัะตะบััะตะต ะทะฝะฐัะตะฝะธะต ะธะท ะฟะพะปั ะดะฐัั
2. ะัะบััะฒะฐะตั `CalendarDialog`
3. ะัะปะธ ะดะฐัะฐ ะฒัะฑัะฐะฝะฐ โ ะทะฐะฟะธััะฒะฐะตั ะฒ ะฟะพะปะต ะดะฐัั

##### `_open_time_picker_dialog()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะบััะฒะฐะตั ะฒัะฑะพั ะฒัะตะผะตะฝะธ ะดะปั ัะพัะผั ะดะพะฑะฐะฒะปะตะฝะธั ะทะฐะดะฐัะธ.

**ะะพะณะธะบะฐ:** ะะฝะฐะปะพะณะธัะฝะพ ะบะฐะปะตะฝะดะฐัั, ะฝะพ ะดะปั ะฟะพะปั ะฒัะตะผะตะฝะธ.

##### `_get_datetime_from_entries() -> Optional[datetime]`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะตะพะฑัะฐะทัะตั ะทะฝะฐัะตะฝะธั ะฟะพะปะตะน ะดะฐัั/ะฒัะตะผะตะฝะธ ะฒ ะพะฑัะตะบั `datetime`.

**ะะพะณะธะบะฐ:**
1. ะัะพะฒะตััะตั ะฟะพะปะต ะดะฐัั:
   - ะัะปะธ ะฟัััะพะต ะธะปะธ placeholder โ ะฒะพะทะฒัะฐัะฐะตั `None`
2. ะัะพะฒะตััะตั ะฟะพะปะต ะฒัะตะผะตะฝะธ:
   - ะัะปะธ ะฟัััะพะต ะธะปะธ placeholder โ ะธัะฟะพะปัะทัะตั "00:00"
3. ะะฐััะธั ัะตัะตะท `datetime.strptime(f"{date} {time}", "%Y-%m-%d %H:%M")`
4. ะัะธ ะพัะธะฑะบะต โ ะฒะพะทะฒัะฐัะฐะตั `None`

**ะะพะทะฒัะฐัะฐะตั:** ะะฑัะตะบั `datetime` ะธะปะธ `None`

##### `_add_task()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑัะฐะฑะพััะธะบ ะบะฝะพะฟะบะธ "ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั".

**ะะพะณะธะบะฐ:**
1. ะัะพะฒะตััะตั ะฝะตะฟัััะพะน ะทะฐะณะพะปะพะฒะพะบ (ะฟะพะบะฐะทัะฒะฐะตั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต, ะตัะปะธ ะฟัััะพ)
2. ะกัะธััะฒะฐะตั ะฒัะต ะฟะพะปั ัะพัะผั:
   - ะะฐะณะพะปะพะฒะพะบ
   - ะะฟะธัะฐะฝะธะต (ะธะท `Text` ะฒะธะดะถะตัะฐ)
   - ะะฐัะตะณะพัะธั
   - ะัะธะพัะธัะตั
   - ะะฐัะฐ/ะฒัะตะผั ัะตัะตะท `_get_datetime_from_entries()`
3. ะัะปะธ ะดะฐัะฐ ะตััั โ ัะพัะผะฐัะธััะตั ะบะฐะบ ัััะพะบั `"%Y-%m-%d %H:%M:%S"`
4. ะัะทัะฒะฐะตั `db.add_task(...)`
5. ะะฑะฝะพะฒะปัะตั ัะฟะธัะพะบ ะบะฐัะตะณะพัะธะน ะฒ `Combobox`
6. ะัะธัะฐะตั ะฒัะต ะฟะพะปั ัะพัะผั:
   - ะะฐะณะพะปะพะฒะพะบ โ ะฟัััะพ
   - ะะฟะธัะฐะฝะธะต โ ะฟัััะพ
   - ะะฐัะตะณะพัะธั โ "ะะตะท ะบะฐัะตะณะพัะธะธ"
   - ะัะธะพัะธัะตั โ "ะฝะตั"
   - ะะฐัะฐ โ placeholder
   - ะัะตะผั โ placeholder
7. ะัะทัะฒะฐะตั `refresh_tasks()` ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ัะฟะธัะบะฐ

##### `apply_filters()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะธะผะตะฝัะตั ัะตะบััะธะต ัะธะปัััั/ะฟะพะธัะบ ะธ ะพะฑะฝะพะฒะปัะตั ัะฟะธัะพะบ ะทะฐะดะฐั.

**ะะพะณะธะบะฐ:**
1. ะะพะปััะฐะตั ัะธะปัััั ัะตัะตะท `filter_panel.get_filters()`
2. ะะทะฒะปะตะบะฐะตั ะทะฝะฐัะตะฝะธั:
   - `search` โ ัััะพะบะฐ ะฟะพะธัะบะฐ
   - `category`, `priority`, `status` โ ัะธะปัััั
   - `sort_order` โ ะฟะพััะดะพะบ ัะพััะธัะพะฒะบะธ
3. ะัะปะธ `search` ะฝะต ะฟัััะพะน:
   - ะัะทัะฒะฐะตั `db.search_tasks(search)`
4. ะะฝะฐัะต:
   - ะัะทัะฒะฐะตั `db.filter_tasks(category, priority, status, sort_order=sort_order)`
5. ะะตัะตะดะฐัั ัะตะทัะปััะฐั ะฒ `_display_tasks(tasks)`

##### `refresh_tasks()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฑะฝะพะฒะปัะตั ัะฟะธัะพะบ ะทะฐะดะฐั (ะตะดะธะฝะฐั ัะพัะบะฐ ะพะฑะฝะพะฒะปะตะฝะธั).

**ะะพะณะธะบะฐ:**
1. ะะฑะฝะพะฒะปัะตั ะบะฐัะตะณะพัะธะธ ะฒ ะฟะฐะฝะตะปะธ ัะธะปัััะพะฒ (`filter_panel.update_category_values()`)
2. ะัะทัะฒะฐะตั `apply_filters()` ะดะปั ะฟัะธะผะตะฝะตะฝะธั ัะตะบััะธั ัะธะปัััะพะฒ

**ะะพะณะดะฐ ะฒัะทัะฒะฐะตััั:**
- ะะพัะปะต ะดะพะฑะฐะฒะปะตะฝะธั ะทะฐะดะฐัะธ
- ะะพัะปะต ะธะทะผะตะฝะตะฝะธั ััะฐัััะฐ
- ะะพัะปะต ัะตะดะฐะบัะธัะพะฒะฐะฝะธั ะทะฐะดะฐัะธ
- ะะพัะปะต ัะดะฐะปะตะฝะธั ะทะฐะดะฐัะธ
- ะะพัะปะต ะธะทะผะตะฝะตะฝะธั ะบะฐัะตะณะพัะธะน

##### `_display_tasks(tasks)`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะพะฑัะฐะถะฐะตั ัะฟะธัะพะบ ะทะฐะดะฐั ะฒ ะฟัะพะบัััะธะฒะฐะตะผะพะผ ะบะพะฝัะตะนะฝะตัะต.

**ะะฐัะฐะผะตััั:**
- `tasks` โ ัะฟะธัะพะบ ะพะฑัะตะบัะพะฒ `Task` ะดะปั ะพัะพะฑัะฐะถะตะฝะธั

**ะะพะณะธะบะฐ:**
1. ะฃะดะฐะปัะตั ะฒัะต ะฒะธะดะถะตัั ะธะท `tasks_frame` (ััะฐััะต ะบะฐััะพัะบะธ)
2. ะัะปะธ ัะฟะธัะพะบ ะฟััั:
   - ะะพะบะฐะทัะฒะฐะตั ัะพะพะฑัะตะฝะธะต "๐ญ ะะฐะดะฐั ะฝะต ะฝะฐะนะดะตะฝะพ"
3. ะะฝะฐัะต:
   - ะะปั ะบะฐะถะดะพะน ะทะฐะดะฐัะธ ัะพะทะดะฐัั `TaskItem`
   - ะะตัะตะดะฐัั `refresh_tasks` ะบะฐะบ callback
   - ะะพะฑะฐะฒะปัะตั ะบะฐััะพัะบั ะฒ `tasks_frame` ัะตัะตะท `pack()`
4. ะะฑะฝะพะฒะปัะตั `scrollregion` ะบะฐะฝะฒั ะดะปั ะฟัะฐะฒะธะปัะฝะพะน ะฟัะพะบัััะบะธ

---

### ะคัะฝะบัะธั ะทะฐะฟััะบะฐ

#### `main()`

**ะะฐะทะฝะฐัะตะฝะธะต:** ะขะพัะบะฐ ะฒัะพะดะฐ ะฒ ะฟัะธะปะพะถะตะฝะธะต.

**ะะพะณะธะบะฐ:**
1. ะกะพะทะดะฐัั ะณะปะฐะฒะฝะพะต ะพะบะฝะพ `tk.Tk()`
2. ะกะพะทะดะฐัั ัะบะทะตะผะฟะปัั `TodoApp(root)`
3. ะะฐะฟััะบะฐะตั ะณะปะฐะฒะฝัะน ัะธะบะป ัะพะฑััะธะน `root.mainloop()`

---

## ๐ ะะพัะพะบ ัะฐะฑะพัั ะฟัะธะปะพะถะตะฝะธั

### 1. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

```
run.sh/run.bat
    โ
ะัะพะฒะตัะบะฐ Python
    โ
ะฃััะฐะฝะพะฒะบะฐ tkcalendar (ะตัะปะธ ะฝัะถะฝะพ)
    โ
python main_gui.py
    โ
main()
    โ
TodoApp.__init__()
    โ
TodoDatabase() โ init_db()
    โ
ะกะพะทะดะฐะฝะธะต ะธะฝัะตััะตะนัะฐ
    โ
refresh_tasks()
    โ
mainloop() โ ะพะถะธะดะฐะฝะธะต ะดะตะนััะฒะธะน ะฟะพะปัะทะพะฒะฐัะตะปั
```

### 2. ะะพะฑะฐะฒะปะตะฝะธะต ะทะฐะดะฐัะธ

```
ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะฟะพะปะฝัะตั ัะพัะผั
    โ
ะะฐะถะธะผะฐะตั "ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั"
    โ
_add_task()
    โ
ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั
    โ
db.add_task(...)
    โ
INSERT ะฒ ัะฐะฑะปะธัั tasks
    โ
refresh_tasks()
    โ
apply_filters()
    โ
db.filter_tasks(...) ะธะปะธ db.search_tasks(...)
    โ
_display_tasks(tasks)
    โ
ะกะพะทะดะฐะฝะธะต TaskItem ะดะปั ะบะฐะถะดะพะน ะทะฐะดะฐัะธ
    โ
ะัะพะฑัะฐะถะตะฝะธะต ะฒ ะธะฝัะตััะตะนัะต
```

### 3. ะะทะผะตะฝะตะฝะธะต ััะฐัััะฐ ะทะฐะดะฐัะธ

```
ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั ะฝะพะฒัะน ััะฐััั ะฒ Combobox
    โ
TaskItem._on_status_change()
    โ
db.update_task_status(task_id, new_status)
    โ
UPDATE tasks SET status=?, completed=?
    โ
refresh_callback() โ refresh_tasks()
    โ
ะะฑะฝะพะฒะปะตะฝะธะต ะพัะพะฑัะฐะถะตะฝะธั
```

### 4. ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะทะฐะดะฐัะธ

```
ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐะถะธะผะฐะตั "ะะตะดะฐะบัะธัะพะฒะฐัั"
    โ
TaskItem._edit_task()
    โ
db.get_task_by_id() โ ะฟะพะปััะตะฝะธะต ะฐะบััะฐะปัะฝัั ะดะฐะฝะฝัั
    โ
EditTaskDialog(task) โ ะพัะบัััะธะต ะดะธะฐะปะพะณะฐ
    โ
ะะพะปัะทะพะฒะฐัะตะปั ะธะทะผะตะฝัะตั ะฟะพะปั
    โ
ะะฐะถะธะผะฐะตั "ะกะพััะฐะฝะธัั"
    โ
EditTaskDialog._save_task()
    โ
db.update_task(...) โ ะพะฑะฝะพะฒะปะตะฝะธะต ะฟะพะปะตะน
db.update_task_status(...) โ ะพะฑะฝะพะฒะปะตะฝะธะต ััะฐัััะฐ
    โ
callback() โ refresh_tasks()
    โ
ะะฑะฝะพะฒะปะตะฝะธะต ัะฟะธัะบะฐ
```

### 5. ะคะธะปัััะฐัะธั ะทะฐะดะฐั

```
ะะพะปัะทะพะฒะฐัะตะปั ะฒะฒะพะดะธั ัะตะบัั ะฒ ะฟะพะธัะบ ะะะ ะฒัะฑะธัะฐะตั ัะธะปััั
    โ
FilterPanel (trace ะดะปั ะฟะพะธัะบะฐ, <<ComboboxSelected>> ะดะปั ัะธะปัััะพะฒ)
    โ
apply_callback() โ apply_filters()
    โ
filter_panel.get_filters() โ ัะฑะพั ัะตะบััะธั ัะธะปัััะพะฒ
    โ
ะัะปะธ ะตััั ะฟะพะธัะบ:
    db.search_tasks(query)
ะะฝะฐัะต:
    db.filter_tasks(category, priority, status, sort_order)
    โ
_display_tasks(filtered_tasks)
    โ
ะัะพะฑัะฐะถะตะฝะธะต ัะพะปัะบะพ ะฟะพะดัะพะดััะธั ะทะฐะดะฐั
```

---

## ๐ ะะฐะถะฝัะต ะดะตัะฐะปะธ ะธ ะพัะพะฑะตะฝะฝะพััะธ

### ะคะพัะผะฐั ะดะฐัั ะธ ะฒัะตะผะตะฝะธ

**ะัะพะฑะปะตะผะฐ:** ะ ะบะพะดะต ะธัะฟะพะปัะทััััั ัะฐะทะฝัะต ัะพัะผะฐัั ะดะฐั:
- **ะัะธ ะดะพะฑะฐะฒะปะตะฝะธะธ ะทะฐะดะฐัะธ:** `"%Y-%m-%d %H:%M:%S"` (ั ัะตะบัะฝะดะฐะผะธ)
- **ะ ะผะตัะพะดะต `is_overdue()`:** ะพะถะธะดะฐะตััั `"%Y-%m-%d %H:%M"` (ะฑะตะท ัะตะบัะฝะด)

**ะะพัะปะตะดััะฒะธะต:** ะะตัะพะด `is_overdue()` ะผะพะถะตั ะฝะต ัะฐะฑะพัะฐัั ะบะพััะตะบัะฝะพ, ัะฐะบ ะบะฐะบ ะฝะต ัะผะพะถะตั ัะฐัะฟะฐััะธัั ะดะฐัั ั ัะตะบัะฝะดะฐะผะธ.

**ะะตัะตะฝะธะต:** ะฃะฝะธัะธัะธัะพะฒะฐัั ัะพัะผะฐั ะดะฐัั ะฒะพ ะฒััะผ ะฟัะธะปะพะถะตะฝะธะธ.

### ะกะธะฝััะพะฝะธะทะฐัะธั `status` ะธ `completed`

ะ ะฑะฐะทะต ะดะฐะฝะฝัั ะตััั ะดะฒะฐ ะฟะพะปั ะดะปั ัะพััะพัะฝะธั ะทะฐะดะฐัะธ:
- `completed` โ ะฑัะปะตะฒ ัะปะฐะณ (0 ะธะปะธ 1)
- `status` โ ัะตะบััะพะฒะพะต ะทะฝะฐัะตะฝะธะต

**ะัะฐะฒะธะปะพ ัะธะฝััะพะฝะธะทะฐัะธะธ:**
- ะัะปะธ `status == "ะฒัะฟะพะปะฝะตะฝะพ"` โ `completed = 1`
- ะะฝะฐัะต โ `completed = 0`

ะญัะพ ัะดะตะปะฐะฝะพ ัะตัะตะท ะผะตัะพะด `update_task_status()`, ะบะพัะพััะน ะฒัะตะณะดะฐ ะพะฑะฝะพะฒะปัะตั ะพะฑะฐ ะฟะพะปั ะพะดะฝะพะฒัะตะผะตะฝะฝะพ.

### ะะธะณัะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั

ะัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต ะธะปะธ ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ััะตะผั ะะ ะผะตัะพะด `init_db()` ะฒัะฟะพะปะฝัะตั ะผะธะณัะฐัะธั:
1. ะัะพะฒะตััะตั ะฝะฐะปะธัะธะต ะฒัะตั ะฝะตะพะฑัะพะดะธะผัั ะบะพะปะพะฝะพะบ
2. ะัะปะธ ัะตะณะพ-ัะพ ะฝะต ัะฒะฐัะฐะตั:
   - ะกะพะทะดะฐัั ะฝะพะฒัั ัะฐะฑะปะธัั `tasks_new` ั ะฟัะฐะฒะธะปัะฝะพะน ััะตะผะพะน
   - ะะพะฟะธััะตั ะดะฐะฝะฝัะต ะธะท ััะฐัะพะน ัะฐะฑะปะธัั
   - ะฃะดะฐะปัะตั ััะฐััั ัะฐะฑะปะธัั
   - ะะตัะตะธะผะตะฝะพะฒัะฒะฐะตั `tasks_new` ะฒ `tasks`

ะญัะพ ะฟะพะทะฒะพะปัะตั ะฑะตะทะพะฟะฐัะฝะพ ะพะฑะฝะพะฒะปััั ััััะบัััั ะะ ะฑะตะท ะฟะพัะตัะธ ะดะฐะฝะฝัั.

### ะขัะผะฝะฐั ัะตะผะฐ

ะัั ะฟัะธะปะพะถะตะฝะธะต ะธัะฟะพะปัะทัะตั ะตะดะธะฝัั ัะฒะตัะพะฒัั ััะตะผั ะธะท ัะปะพะฒะฐัั `COLORS`:
- ะคะพะฝ: ััะผะฝะพ-ัะตััะน `#1e1e1e`
- ะขะตะบัั: ะฑะตะปัะน `#ffffff`
- ะะบัะตะฝัั: ะฑะธััะทะพะฒัะน `#0d7377`
- ะะฝะพะฟะบะธ hover: ัะฒะตัะปะพ-ะฑะธััะทะพะฒัะน `#14a085`

### Placeholder ะดะปั ะฟะพะปะตะน ะฒะฒะพะดะฐ

ะะพะปั ะดะฐัั ะธ ะฒัะตะผะตะฝะธ ะธัะฟะพะปัะทััั "ะผัะณะบะธะต" placeholder'ั:
- ะัะธ ัะพะบััะต โ ะพัะธัะฐัััั
- ะัะธ ะฟะพัะตัะต ัะพะบััะฐ (ะตัะปะธ ะฟะพะปะต ะฟัััะพะต) โ ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐัััั
- ะฃะฟัะฐะฒะปััััั ัะตัะตะท ัะปะฐะณะธ `_date_placeholder` ะธ `_time_placeholder`

### ะะพะดะฐะปัะฝัะต ะดะธะฐะปะพะณะธ

ะัะต ะดะธะฐะปะพะณะธ (`CalendarDialog`, `TimePickerDialog`, `EditTaskDialog`, `ManageCategoriesDialog`) ัะฒะปััััั ะผะพะดะฐะปัะฝัะผะธ:
- `transient(parent)` โ ะพะบะฝะพ ะฒัะตะณะดะฐ ะฟะพะฒะตัั ัะพะดะธัะตะปั
- `grab_set()` โ ะฑะปะพะบะธััะตั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ั ัะพะดะธัะตะปััะบะธะผ ะพะบะฝะพะผ
- `wait_window()` โ ะพะถะธะดะฐะตั ะทะฐะบัััะธั ะดะธะฐะปะพะณะฐ

---

## ๐ ะกัััะบัััะฐ ะดะฐะฝะฝัั ะธ ัะฒัะทะธ

```
TodoDatabase (Singleton pattern)
    โ
    โโโ ะขะฐะฑะปะธัะฐ tasks (ะทะฐะดะฐัะธ)
    โ   โโโ ะกะฒัะทั ัะตัะตะท category โ ะขะฐะฑะปะธัะฐ categories
    โ
    โโโ ะขะฐะฑะปะธัะฐ categories (ะบะฐัะตะณะพัะธะธ)

TodoApp (ะณะปะฐะฒะฝะพะต ะพะบะฝะพ)
    โ
    โโโ FilterPanel (ัะธะปัััั)
    โโโ Canvas + Scrollbar (ะฟัะพะบัััะธะฒะฐะตะผะฐั ะพะฑะปะฐััั)
    โ   โโโ tasks_frame
    โ       โโโ TaskItem (ะบะฐััะพัะบะฐ ะทะฐะดะฐัะธ) ร N
    โ           โโโ EditTaskDialog (ะฟัะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะธ)
    โ
    โโโ ManageCategoriesDialog (ัะฟัะฐะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธัะผะธ)
```

---

## ๐จ UI Components Diagram

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ RoutineApp - ะะตะฝะตะดะถะตั ะะฐะดะฐั                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโ ะะพะฑะฐะฒะธัั ะทะฐะดะฐัั โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ะะฐะณะพะปะพะฒะพะบ: [________________]                     โ โ
โ  โ ะะฟะธัะฐะฝะธะต:  [________________]                     โ โ
โ  โ ะะฐัะตะณะพัะธั: [โผ]  ะัะธะพัะธัะตั: [โผ]                   โ โ
โ  โ ะะฐัะฐ: [____] ๐  ะัะตะผั: [____] ๐                 โ โ
โ  โ [โ ะะพะฑะฐะฒะธัั]  [๐ ะะฐัะตะณะพัะธะธ]                     โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โโ ะคะธะปัััั โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐ [ะะพะธัะบ...]  ะะฐัะตะณะพัะธั:[โผ]  ะัะธะพัะธัะตั:[โผ]      โ โ
โ  โ ะกัะฐััั:[โผ]  ะกะพััะธัะพะฒะบะฐ:[โผ]  [๐ ะกะฑัะพัะธัั]        โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โโ ะกะฟะธัะพะบ ะทะฐะดะฐั โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โฒ โ โ
โ  โ โ [โ] #1 ะะฐะทะฒะฐะฝะธะต ะทะฐะดะฐัะธ                       โ โ โ โ
โ  โ โ     ะะฟะธัะฐะฝะธะต...                              โ โ โ โ
โ  โ โ     [ะะฐะฑะพัะฐ] [ะกัะพัะฝะพ] [๐ 2024-01-15]       โ โ โ โ
โ  โ โ     ะกัะฐััั:[โผ] [โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั] [๐๏ธ]      โ โ โ โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค โ โ โ
โ  โ โ [โ] #2 ะััะณะฐั ะทะฐะดะฐัะฐ                         โ โ โ โ
โ  โ โ     ...                                      โ โผ โ โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

### Linux/macOS:
```bash
./run.sh
```

### Windows:
```cmd
run.bat
```

### ะัััะฝัั:
```bash
python todo_app/main_gui.py
```

---

## ๐ ะะฐะบะปััะตะฝะธะต

**RoutineApp** โ ััะพ ะฟะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ ั:
- โ ะะฝััะธัะธะฒะฝัะผ ะณัะฐัะธัะตัะบะธะผ ะธะฝัะตััะตะนัะพะผ
- โ ะะพะบะฐะปัะฝะพะน ะฑะฐะทะพะน ะดะฐะฝะฝัั SQLite
- โ ะกะธััะตะผะพะน ะบะฐัะตะณะพัะธะน ะธ ะฟัะธะพัะธัะตัะพะฒ
- โ ะคะธะปัััะฐัะธะตะน ะธ ะฟะพะธัะบะพะผ
- โ ะะธะทัะฐะปัะฝัะผะธ ะธะฝะดะธะบะฐัะพัะฐะผะธ ัะพััะพัะฝะธั
- โ ะขัะผะฝะพะน ัะตะผะพะน ะพัะพัะผะปะตะฝะธั

ะะพะด ะฟะพัััะพะตะฝ ะฟะพ ะฟัะธะฝัะธะฟั **ัะฐะทะดะตะปะตะฝะธั ะพัะฒะตัััะฒะตะฝะฝะพััะธ**:
- **ะะพะดะตะปั** (`models.py`) โ ะพะฟะธััะฒะฐะตั ะดะฐะฝะฝัะต
- **ะะฐะทะฐ ะดะฐะฝะฝัั** (`database.py`) โ ัะฟัะฐะฒะปัะตั ััะฐะฝะตะฝะธะตะผ
- **ะะฝัะตััะตะนั** (`main_gui.py`) โ ะพะฑะตัะฟะตัะธะฒะฐะตั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ั ะฟะพะปัะทะพะฒะฐัะตะปะตะผ

ะญัะพ ะดะตะปะฐะตั ะบะพะด ะฟะพะฝััะฝัะผ, ัะฐััะธััะตะผัะผ ะธ ะปะตะณะบะพ ะฟะพะดะดะตัะถะธะฒะฐะตะผัะผ.